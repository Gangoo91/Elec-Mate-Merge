@import './styles/touch.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 220 91% 20%;
    --primary-foreground: 210 40% 98%;

    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 220 91% 35%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 220 91% 20%;

    --radius: 0.5rem;

    /* Electrical theme colors */
    --elec-dark: 0 0% 0%;
    --elec-light: 0 0% 15%;
    --elec-gray: 0 0% 22%;
    --elec-yellow: 47 100% 50%;
    --elec-card: 0 0% 20%;
    --elec-grey: 0 0% 22%;
    
    /* Mobile breakpoints */
    --mobile-xs: 320px;
    --mobile-sm: 375px;

    /* Safe area insets with fallbacks */
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    
    /* Muted text colors for comfortable reading */
    --text-muted: 210 40% 82%;
    --text-subtle: 210 30% 75%;
    
    /* Softer primary colors for less bright yellow */
    --primary-muted: 47 85% 42%;
    --primary-subtle: 47 70% 38%;
    --primary-bg-muted: 47 80% 15%;
    
    /* EICR Classification Colors - Muted for professional appearance */
    --eicr-c1-bg: 0 45% 15%;
    --eicr-c1-border: 0 55% 35%;
    --eicr-c1-text: 0 50% 75%;
    
    --eicr-c2-bg: 25 45% 15%;
    --eicr-c2-border: 25 60% 40%;
    --eicr-c2-text: 25 55% 75%;
    
    --eicr-c3-bg: 40 45% 15%;
    --eicr-c3-border: 40 60% 45%;
    --eicr-c3-text: 40 55% 80%;
    
    --eicr-fi-bg: 47 40% 15%;
    --eicr-fi-border: 47 60% 45%;
    --eicr-fi-text: 47 50% 80%;

    /* Semantic colors for light mode */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 47 100% 50%;
    --sidebar-primary-foreground: 240 5.9% 10%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 240 5.9% 10%;
  }

  .dark {
    /* UNIFIED COLOR SYSTEM - All greys use hue 240 to match sidebar */
    --background: 240 5.9% 10%;
    --foreground: 0 0% 98%;

    /* CARDS - Slightly lighter than background for depth */
    --card: 240 5.9% 12%;
    --card-foreground: 0 0% 98%;

    --popover: 240 5.9% 12%;
    --popover-foreground: 0 0% 98%;

    --primary: 47 100% 50%;
    --primary-foreground: 240 5.9% 10%;

    --secondary: 240 5.9% 16%;
    --secondary-foreground: 0 0% 98%;

    --muted: 240 5.9% 16%;
    --muted-foreground: 240 5% 65%;

    --accent: 240 5.9% 18%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 100%;

    --border: 240 5.9% 22%;
    --input: 240 5.9% 15%;
    --ring: 47 100% 50%;

    /* Additional semantic colors */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    /* Electrical theme colors - UNIFIED with sidebar hue 240 */
    --elec-dark: 240 5.9% 8%;
    --elec-light: 0 0% 98%;
    --elec-gray: 240 5.9% 18%;
    --elec-yellow: 47 100% 50%;
    --elec-card: 240 5.9% 14%;
    --elec-grey: 240 5.9% 10%;
    
    /* Muted text colors for comfortable reading */
    --text-muted: 210 30% 85%;
    --text-subtle: 210 25% 78%;
    
    /* Softer primary colors for less bright yellow */
    --primary-muted: 47 75% 45%;
    --primary-subtle: 47 60% 40%;
    --primary-bg-muted: 47 60% 20%;
    
    /* EICR Classification Colors - Muted for professional appearance */
    --eicr-c1-bg: 0 45% 15%;
    --eicr-c1-border: 0 55% 38%;
    --eicr-c1-text: 0 50% 78%;
    
    --eicr-c2-bg: 25 45% 15%;
    --eicr-c2-border: 25 60% 42%;
    --eicr-c2-text: 25 55% 78%;
    
    --eicr-c3-bg: 40 45% 15%;
    --eicr-c3-border: 40 60% 48%;
    --eicr-c3-text: 40 55% 82%;
    
    --eicr-fi-bg: 47 40% 15%;
    --eicr-fi-border: 47 60% 48%;
    --eicr-fi-text: 47 50% 82%;
    
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 47 100% 50%;
    --sidebar-primary-foreground: 240 5.9% 10%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 47 100% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground dark;
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-elec-yellow to-yellow-400 bg-clip-text text-transparent;
  }
  
  .bg-grid-pattern {
    background-image: 
      linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }
}

/* Update the color definitions in the theme */
@layer utilities {
  /* CSS Containment for performance-critical components
   * Helps browsers optimize layout/paint by isolating these elements
   */
  .circuit-card,
  .inspection-item,
  .certificate-section,
  .form-section {
    contain: layout style paint;
  }

  /* Content visibility optimization for long lists
   * Browser can skip rendering off-screen items
   */
  .content-visibility-auto {
    content-visibility: auto;
    contain-intrinsic-size: 0 180px;
  }

  /* Will-change hint for animated elements */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  .bg-section-item {
    @apply bg-[#1a1a1a];
  }

  .bg-section-expanded {
    @apply bg-[#1a1a1a];
  }

  /* Properly styled bullet points - left aligned */
  .prose-list ul,
  .content-list {
    @apply list-disc list-outside pl-5 space-y-1.5 text-left;
  }

  .prose-list ol,
  .content-list-numbered {
    @apply list-decimal list-outside pl-5 space-y-1.5 text-left;
  }

  .prose-list li,
  .content-list li,
  .content-list-numbered li {
    @apply text-left pl-1;
  }

  /* Native list styling for content pages */
  ul.native-list {
    @apply list-disc list-inside space-y-2 text-muted-foreground;
  }

  ol.native-list {
    @apply list-decimal list-inside space-y-2 text-muted-foreground;
  }

  ul.native-list li,
  ol.native-list li {
    @apply text-left text-sm leading-relaxed;
  }

  /* Global list styling fixes for content pages */
  /* Override list-inside to ensure proper left alignment */
  .space-y-4 ul.list-disc,
  .space-y-6 ul.list-disc,
  .bg-card ul.list-disc,
  [class*="bg-card"] ul.list-disc,
  .animate-fade-in ul.list-disc {
    @apply list-outside pl-5 ml-0;
  }

  .space-y-4 ol.list-decimal,
  .space-y-6 ol.list-decimal,
  .bg-card ol.list-decimal,
  [class*="bg-card"] ol.list-decimal,
  .animate-fade-in ol.list-decimal {
    @apply list-outside pl-5 ml-0;
  }

  /* Ensure list items are properly left-aligned */
  .space-y-4 ul li,
  .space-y-6 ul li,
  .bg-card ul li,
  [class*="bg-card"] ul li,
  .animate-fade-in ul li {
    @apply text-left;
  }

  /* Override inline list-inside styling */
  ul.list-inside,
  ol.list-inside {
    @apply pl-5;
  }

  ul.list-inside li,
  ol.list-inside li {
    @apply text-left;
  }
  
  /* Safe area insets for mobile devices */
  .pb-safe {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* iOS-specific safe area with fallback for Dynamic Island */
  @supports (padding: env(safe-area-inset-top)) {
    .pt-safe {
      padding-top: env(safe-area-inset-top);
    }
  }

  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Touch feedback for mobile interactions */
  .touch-highlight {
    -webkit-tap-highlight-color: rgba(255, 209, 0, 0.1);
  }

  /* Momentum scrolling for iOS */
  .momentum-scroll {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* Prevent iOS zoom on input focus */
  @supports (-webkit-touch-callout: none) {
    input, textarea, select {
      font-size: 16px !important;
    }
  }

  /* Premium Dashboard Utilities */

  /* Glass morphism card - Linear/Notion inspired */
  .glass-premium {
    @apply bg-white/[0.03] backdrop-blur-xl border border-white/[0.08];
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }

  /* Yellow glow effect for featured elements */
  .glow-yellow {
    box-shadow: 0 0 60px -15px hsl(47 100% 50% / 0.15);
  }

  /* Subtle card lift on hover */
  .card-lift {
    @apply transition-all duration-300;
  }
  .card-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
  }

  /* Premium border glow */
  .border-glow {
    @apply transition-all duration-300;
  }
  .border-glow:hover {
    border-color: hsl(47 100% 50% / 0.4);
    box-shadow: 0 0 20px -5px hsl(47 100% 50% / 0.2);
  }

  /* Streak fire glow for text */
  .streak-glow {
    text-shadow: 0 0 20px hsl(25 95% 55% / 0.5);
  }

  /* Touch-friendly tap target */
  .touch-target {
    @apply touch-manipulation;
    min-height: 44px;
    min-width: 44px;
  }

  /* ========================================
     iOS-NATIVE ANIMATION UTILITIES
     ======================================== */

  /* iOS entrance animation - scale in with spring */
  .ios-animate-in {
    animation: ios-scale-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* iOS entrance with custom delay */
  /* Note: Removed opacity: 0 - content visible by default */
  .ios-animate-in-delayed {
    animation: ios-scale-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    animation-delay: var(--ios-delay, 0ms);
  }

  /* iOS slide up entrance */
  .ios-slide-in {
    animation: ios-slide-up 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Stagger children animations - iOS style */
  /* Note: Removed opacity: 0 - content visible by default, animation enhances but doesn't hide */
  .ios-stagger-children > * {
    animation: ios-scale-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }
  .ios-stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .ios-stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .ios-stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .ios-stagger-children > *:nth-child(4) { animation-delay: 150ms; }
  .ios-stagger-children > *:nth-child(5) { animation-delay: 200ms; }
  .ios-stagger-children > *:nth-child(6) { animation-delay: 250ms; }
  .ios-stagger-children > *:nth-child(7) { animation-delay: 300ms; }
  .ios-stagger-children > *:nth-child(8) { animation-delay: 350ms; }

  /* iOS button press effect */
  .ios-pressable {
    @apply transition-transform duration-150 ease-ios-ease touch-manipulation;
  }
  .ios-pressable:active {
    transform: scale(0.97);
  }

  /* iOS card tap effect */
  .ios-card-tap {
    @apply transition-all duration-150 ease-ios-ease touch-manipulation;
  }
  .ios-card-tap:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  /* iOS input focus glow */
  .ios-input-focus {
    @apply transition-all duration-250 ease-ios-ease;
  }
  .ios-input-focus:focus {
    box-shadow: 0 0 0 4px hsl(var(--elec-yellow) / 0.15);
  }

  /* iOS card style - glassmorphism */
  .ios-card {
    @apply bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10;
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.2);
  }

  /* iOS elevated card */
  .ios-card-elevated {
    @apply bg-white/10 backdrop-blur-xl rounded-2xl border border-white/15;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }

  /* iOS form spacing */
  .ios-form-spacing {
    @apply space-y-4;
  }

  /* iOS section spacing */
  .ios-section-spacing {
    @apply space-y-6;
  }

  /* iOS label style */
  .ios-label {
    @apply block text-ios-subhead font-medium text-white/80 mb-2;
  }

  /* iOS input base style */
  .ios-input-base {
    @apply w-full h-[50px] px-4 py-3;
    @apply text-ios-body text-white placeholder:text-white/40;
    @apply bg-white/5 rounded-xl border-2 border-white/10;
    @apply focus:outline-none focus:border-elec-yellow/60 focus:bg-white/10;
    @apply transition-all duration-250 ease-ios-ease;
  }

  /* iOS primary button style */
  .ios-btn-primary {
    @apply h-[50px] px-6 rounded-xl font-semibold;
    @apply bg-elec-yellow text-black;
    @apply transition-all duration-150 ease-ios-ease touch-manipulation;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
  }
  .ios-btn-primary:active {
    transform: scale(0.97);
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  }

  /* iOS secondary button style */
  .ios-btn-secondary {
    @apply h-[50px] px-6 rounded-xl font-medium;
    @apply bg-white/10 text-white border border-white/20;
    @apply transition-all duration-150 ease-ios-ease touch-manipulation;
  }
  .ios-btn-secondary:active {
    transform: scale(0.97);
    @apply bg-white/15;
  }

  /* iOS ghost button */
  .ios-btn-ghost {
    @apply h-[50px] px-6 rounded-xl font-medium;
    @apply text-elec-yellow bg-transparent;
    @apply transition-all duration-150 ease-ios-ease touch-manipulation;
  }
  .ios-btn-ghost:active {
    @apply bg-elec-yellow/10;
  }

  /* Safe area utilities for notched phones */
  .safe-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  .safe-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  .safe-left {
    padding-left: max(1rem, env(safe-area-inset-left));
  }
  .safe-right {
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* Hide scrollbars utilities */
@layer components {
  /* General scrollbar hide utility */
  .scrollbar-none {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  .dropdown-scrollbar-none,
  .popover-scrollbar-none,
  .select-scrollbar-none {
    /* Firefox */
    scrollbar-width: none;
    /* IE and Edge */
    -ms-overflow-style: none;
  }

  .dropdown-scrollbar-none::-webkit-scrollbar,
  .popover-scrollbar-none::-webkit-scrollbar,
  .select-scrollbar-none::-webkit-scrollbar {
    /* Webkit browsers (Chrome, Safari, Edge) */
    display: none;
  }
  
  /* Keep main scrollbar visible and styled */
  body::-webkit-scrollbar {
    width: 8px;
  }
  
  body::-webkit-scrollbar-track {
    background: hsl(var(--elec-dark));
  }
  
  body::-webkit-scrollbar-thumb {
    background: hsl(var(--elec-gray));
    border-radius: 4px;
  }
  
  body::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground));
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Mobile-optimized spacing utilities */
  .mobile-padding {
    @apply px-3 sm:px-6 lg:px-8;
  }
  
  .ai-tool-page-padding {
    @apply px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8;
  }
  
  .mobile-container {
    @apply w-full max-w-full mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  /* Enhanced mobile layout */
  .mobile-safe-area {
    @apply pb-4 sm:pb-6;
  }
  
  .mobile-card-spacing {
    @apply space-y-3 sm:space-y-4 md:space-y-5 lg:space-y-6;
  }
  
  /* Touch-friendly button sizing - 44px minimum */
  .touch-target {
    @apply min-h-11 min-w-11 sm:min-h-10 sm:min-w-10;
  }
  
  .touch-button {
    @apply min-h-12 px-4 py-3 text-base;
  }
  
  /* Enhanced mobile typography */
  .mobile-heading {
    @apply text-lg sm:text-xl lg:text-2xl xl:text-3xl font-semibold leading-tight;
  }
  
  .mobile-subheading {
    @apply text-base sm:text-lg lg:text-xl font-medium;
  }
  
  .mobile-text {
    @apply text-sm sm:text-base leading-relaxed;
  }
  
  .mobile-small-text {
    @apply text-xs sm:text-sm;
  }
  
  /* Mobile-optimized cards */
  .mobile-card {
    @apply bg-card border border-border/40 rounded-xl p-4 sm:p-6 shadow-sm;
  }
  
  .mobile-card-compact {
    @apply bg-card border border-border/40 rounded-lg p-3 sm:p-4;
  }
  
  /* Enhanced mobile interactions */
  .mobile-interactive {
    @apply transition-all duration-200 active:scale-[0.98] touch-manipulation;
  }
  
  .mobile-tap-highlight {
    @apply active:bg-accent/20 transition-colors duration-150;
  }
  
  /* Mobile grid layouts */
  .mobile-grid-auto {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6;
  }
  
  .mobile-grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6;
  }

  /* Grid layouts are now handled by Tailwind utility classes in components */
  
  /* Mobile form improvements */
  .mobile-input-spacing {
    @apply space-y-4 sm:space-y-3;
  }
  
  /* Card styling is now handled by Tailwind utility classes in components */

  /* Modern styling removed - using simple Tailwind utilities for better performance */

  /* Better focus states for mobile */
  .mobile-focus {
    @apply focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:outline-none;
  }
  
  /* Enhanced mobile button styles */
  .mobile-button-primary {
    @apply h-12 px-6 bg-elec-yellow text-elec-dark hover:bg-elec-yellow/90 font-medium rounded-lg transition-colors duration-200 active:scale-[0.98] touch-manipulation;
  }
  
  .mobile-button-secondary {
    @apply h-12 px-6 border-elec-yellow/40 text-elec-yellow hover:bg-elec-yellow/10 font-medium rounded-lg transition-colors duration-200 active:scale-[0.98] touch-manipulation;
  }
  
  /* Mobile-optimized action areas */
  .mobile-action-bar {
    @apply flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4 p-4 sm:p-6 lg:p-8;
  }
  
  /* Enhanced mobile spacing */
  .mobile-section-spacing {
    @apply space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-10;
  }
  
  /* Mobile-safe bottom spacing */
  .mobile-bottom-safe {
    @apply pb-safe-bottom;
  }
  
  /* Custom scrollbar for better mobile experience */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--elec-yellow) / 0.3) transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--elec-yellow) / 0.3);
    border-radius: 2px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--elec-yellow) / 0.5);
  }
  
  /* Safe area padding for mobile devices with notches */
  @supports (padding: env(safe-area-inset-bottom)) {
    .pb-safe {
      padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
    }
  }
  
  /* Responsive Template Grid - Optimized for template cards */
  .responsive-template-grid {
    display: grid;
    gap: 1rem; /* 16px base gap for mobile */
    width: 100%;
    grid-auto-rows: 1fr; /* Equal height cards */
    
    /* Mobile First: 320px - 479px (Single column with proper spacing) */
    grid-template-columns: 1fr;
    
    /* Small Mobile: 480px - 639px (Still single column, larger gap) */
    @media (min-width: 480px) {
      gap: 1.25rem; /* 20px */
    }
    
    /* Tablet Portrait: 640px - 767px (2 columns, balanced layout) */
    @media (min-width: 640px) {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem; /* 24px */
    }
    
    /* Tablet Landscape: 768px - 1023px (2-3 columns based on content width) */
    @media (min-width: 768px) {
      gap: 1.75rem; /* 28px */
      /* Use minmax for flexible columns that don't break content */
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      max-width: 100%;
    }
    
    /* Desktop: 1024px - 1279px (3 columns optimal) */
    @media (min-width: 1024px) {
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem; /* 32px */
    }
    
    /* Large Desktop: 1280px+ (3-4 columns with max width constraint) */
    @media (min-width: 1280px) {
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2.5rem; /* 40px */
      max-width: 1400px; /* Prevent overly wide layouts */
      margin: 0 auto;
    }
    
  /* Ultra-wide: 1600px+ (Maximum 4 columns to maintain readability) */
    @media (min-width: 1600px) {
      grid-template-columns: repeat(4, 1fr);
      gap: 3rem; /* 48px */
    }
  }

  @keyframes pulse-subtle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.85; }
  }

  .animate-pulse-subtle {
    animation: pulse-subtle 3s ease-in-out infinite;
  }

  /* Document scanning animation for OCR preview */
  @keyframes scan {
    0% {
      transform: translateY(-100%);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(100%);
      opacity: 0;
    }
  }

  .animate-scan {
    animation: scan 2s ease-in-out infinite;
  }

  /* Shimmer effect for loading states */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      hsl(var(--elec-yellow) / 0.1) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  @keyframes bounce-subtle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  .animate-bounce-subtle {
    animation: bounce-subtle 2s ease-in-out infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  .hide-scrollbar,
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar,
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* GPU-accelerated animations for smooth mobile performance */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: transform;
  }

  /* Smooth scroll behavior for carousels and lists */
  .smooth-scroll {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Touch-optimized interactions */
  .touch-optimized {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* ===== PREMIUM MOBILE UTILITIES ===== */

  /* Enhanced Glass Morphism for premium mobile feel */
  .glass-card {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }

  .glass-card-hover {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-200;
  }

  /* Premium card press effects */
  .card-press {
    @apply active:scale-[0.98] transition-transform duration-150 touch-manipulation;
  }

  .card-press-subtle {
    @apply active:scale-[0.99] transition-transform duration-100 touch-manipulation;
  }

  /* Premium gradient text */
  .gradient-text-yellow {
    @apply bg-gradient-to-r from-amber-400 to-yellow-500 bg-clip-text text-transparent;
  }

  .gradient-text-purple {
    @apply bg-gradient-to-r from-purple-400 to-purple-500 bg-clip-text text-transparent;
  }

  /* Enhanced focus states for accessibility */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-elec-yellow/50 focus-visible:ring-offset-2 focus-visible:ring-offset-elec-dark;
  }

  .focus-ring-purple {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-purple-500/50 focus-visible:ring-offset-2 focus-visible:ring-offset-elec-dark;
  }

  /* Mobile-first section spacing */
  .section-spacing {
    @apply space-y-4 sm:space-y-5;
  }

  /* Premium badge styles */
  .badge-active {
    @apply bg-emerald-500/20 text-emerald-400 border-emerald-500/30;
  }

  .badge-coming-soon {
    @apply bg-white/10 text-white/50 border-white/20;
  }

  .badge-featured {
    @apply bg-elec-yellow/20 text-elec-yellow border-elec-yellow/30;
  }

  /* Decorative gradient blobs */
  .gradient-blob {
    @apply rounded-full blur-3xl absolute pointer-events-none;
  }

  .gradient-blob-yellow {
    @apply bg-elec-yellow/10;
  }

  .gradient-blob-purple {
    @apply bg-purple-500/10;
  }

  /* Enhanced button tap states */
  .btn-tap {
    @apply active:opacity-80 transition-opacity duration-100;
  }

  /* Optimised icon container styles */
  .icon-container {
    @apply p-2 sm:p-2.5 rounded-xl border transition-colors;
  }

  .icon-container-yellow {
    @apply bg-elec-yellow/10 border-elec-yellow/20;
  }

  .icon-container-purple {
    @apply bg-purple-500/10 border-purple-500/20;
  }

  /* Responsive container max-width */
  .container-max {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  /* Card gradient backgrounds for variety */
  .card-gradient-amber {
    @apply bg-gradient-to-br from-amber-500/20 to-orange-500/10;
  }

  .card-gradient-purple {
    @apply bg-gradient-to-br from-purple-500/20 to-indigo-500/10;
  }

  .card-gradient-emerald {
    @apply bg-gradient-to-br from-emerald-500/20 to-green-500/10;
  }

  .card-gradient-blue {
    @apply bg-gradient-to-br from-blue-500/20 to-cyan-500/10;
  }

  /* Premium list item styles */
  .list-item-interactive {
    @apply flex items-center gap-3 p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 active:scale-[0.99] transition-all duration-200 touch-manipulation;
  }

  /* CTA button container */
  .cta-button {
    @apply flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 rounded-full transition-colors;
  }

  .cta-button-yellow {
    @apply bg-elec-yellow/10 border border-elec-yellow/20 hover:bg-elec-yellow/20 active:bg-elec-yellow/30;
  }

  .cta-button-purple {
    @apply bg-purple-500/10 border border-purple-500/20 hover:bg-purple-500/20 active:bg-purple-500/30;
  }

  /* Premium section header */
  .section-header {
    @apply flex items-center gap-2.5 px-1;
  }

  .section-dot {
    @apply h-1.5 w-1.5 rounded-full;
  }

  .section-title {
    @apply text-lg sm:text-xl font-bold text-white;
  }

  /* ===== AGENT INTERFACE UTILITIES ===== */

  /* Agent interactive elements */
  .agent-interactive {
    @apply touch-manipulation active:scale-[0.98] transition-all duration-150;
  }

  /* Agent card styling */
  .agent-card {
    @apply bg-card border border-white/10 rounded-2xl overflow-hidden;
  }

  .agent-card-hover {
    @apply bg-card border border-white/10 rounded-2xl overflow-hidden hover:border-white/20 transition-all duration-200;
  }

  /* Agent input styling - 16px font prevents iOS zoom */
  .agent-input {
    @apply bg-white/5 border border-white/10 rounded-xl text-base min-h-[120px]
           focus:border-white/30 focus:ring-2 focus:ring-white/10 focus:ring-offset-0
           placeholder:text-white/30 resize-none;
    font-size: 16px !important; /* Prevent iOS zoom */
  }

  /* Agent project type selector */
  .agent-type-button {
    @apply h-12 px-4 rounded-xl font-medium transition-all duration-200
           touch-manipulation active:scale-[0.98] border;
  }

  .agent-type-button-inactive {
    @apply bg-white/5 border-white/10 text-white/60 hover:bg-white/10 hover:border-white/20;
  }

  /* Agent collapsible section */
  .agent-collapsible-trigger {
    @apply flex items-center justify-between w-full p-3 sm:p-4 rounded-xl
           bg-white/5 border border-white/10
           hover:bg-white/10 hover:border-white/20
           touch-manipulation active:scale-[0.99] transition-all duration-200;
  }

  /* Agent processing card */
  .agent-processing-card {
    @apply bg-card border border-white/10 rounded-2xl p-4 sm:p-6 space-y-4 sm:space-y-6;
  }

  /* Agent gradient text */
  .agent-gradient-text {
    @apply bg-clip-text text-transparent;
  }

  /* Agent color-specific gradients */
  .agent-gradient-amber {
    background-image: linear-gradient(135deg, #fbbf24, #eab308);
  }

  .agent-gradient-emerald {
    background-image: linear-gradient(135deg, #34d399, #14b8a6);
  }

  .agent-gradient-orange {
    background-image: linear-gradient(135deg, #fb923c, #ef4444);
  }

  .agent-gradient-blue {
    background-image: linear-gradient(135deg, #60a5fa, #2563eb);
  }

  /* Agent template card */
  .agent-template-card {
    @apply p-3 sm:p-4 rounded-xl bg-white/5 border border-white/10
           hover:bg-white/10 hover:border-white/20
           cursor-pointer touch-manipulation active:scale-[0.98] transition-all duration-200;
  }

  /* Agent stats grid */
  .agent-stats-grid {
    @apply grid grid-cols-2 gap-3 sm:gap-4;
  }

  .agent-stat-item {
    @apply bg-white/5 rounded-xl p-3 sm:p-4 text-center border border-white/10;
  }

  /* Pulse glow animation for active elements */
  @keyframes pulse-glow {
    0%, 100% { opacity: 0.5; box-shadow: 0 0 20px currentColor; }
    50% { opacity: 1; box-shadow: 0 0 40px currentColor; }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  /* Subtle float animation */
  @keyframes float-subtle {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-4px); }
  }

  .animate-float-subtle {
    animation: float-subtle 3s ease-in-out infinite;
  }

  /* Scale entrance animation */
  @keyframes scale-in {
    0% { transform: scale(0.9); opacity: 0; }
    100% { transform: scale(1); opacity: 1; }
  }

  .animate-scale-in {
    animation: scale-in 0.3s ease-out forwards;
  }

  /* Slide up entrance animation */
  @keyframes slide-up {
    0% { transform: translateY(10px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }

  .animate-slide-up {
    animation: slide-up 0.4s ease-out forwards;
  }

  /* Character counter colors */
  .char-count-low {
    @apply text-white/40;
  }

  .char-count-medium {
    @apply text-emerald-400;
  }

  .char-count-high {
    @apply text-amber-400;
  }

  /* ===== CALCULATOR INTERFACE UTILITIES ===== */

  /* Calculator card styling - matches agent-card pattern */
  .calculator-card {
    @apply bg-card border border-white/10 rounded-2xl overflow-hidden;
  }

  .calculator-card-hover {
    @apply bg-card border border-white/10 rounded-2xl overflow-hidden hover:border-white/20 transition-all duration-200;
  }

  /* Calculator input styling - 16px font prevents iOS zoom */
  .calculator-input {
    @apply bg-white/5 border border-white/10 rounded-xl text-base
           focus:border-white/20 focus:ring-1 focus:ring-white/10 focus:ring-offset-0
           placeholder:text-white/30;
    font-size: 16px !important; /* Prevent iOS zoom */
  }

  /* Calculator result box */
  .calculator-result {
    @apply rounded-xl p-4 border animate-fade-in;
  }

  /* Calculator gradient value text */
  .calculator-value {
    @apply font-bold bg-clip-text text-transparent;
  }

  .calculator-value-amber {
    background-image: linear-gradient(135deg, #fbbf24, #eab308);
  }

  .calculator-value-emerald {
    background-image: linear-gradient(135deg, #34d399, #14b8a6);
  }

  .calculator-value-orange {
    background-image: linear-gradient(135deg, #fb923c, #ef4444);
  }

  .calculator-value-green {
    background-image: linear-gradient(135deg, #22c55e, #10b981);
  }

  .calculator-value-purple {
    background-image: linear-gradient(135deg, #a78bfa, #6366f1);
  }

  .calculator-value-blue {
    background-image: linear-gradient(135deg, #60a5fa, #2563eb);
  }

  .calculator-value-cyan {
    background-image: linear-gradient(135deg, #22d3ee, #0ea5e9);
  }

  .calculator-value-slate {
    background-image: linear-gradient(135deg, #94a3b8, #64748b);
  }

  /* Calculator collapsible trigger */
  .calculator-collapsible-trigger {
    @apply flex items-center justify-between w-full py-2.5 px-3 rounded-lg
           text-sm font-medium text-white/60 hover:text-white/80
           hover:bg-white/5 transition-all;
  }

  /* Calculator step display */
  .calculation-step {
    @apply flex gap-3 relative;
  }

  .calculation-step-number {
    @apply w-6 h-6 rounded-full flex items-center justify-center shrink-0 text-xs font-bold;
  }

  .calculation-step-content {
    @apply flex-1 min-w-0 space-y-1;
  }

  .calculation-step-formula {
    @apply block text-xs px-2.5 py-1.5 rounded-lg bg-black/30 text-white/70 font-mono overflow-x-auto;
  }

  /* Calculator action buttons */
  .calculator-button-primary {
    @apply h-12 sm:h-14 rounded-xl font-semibold
           touch-manipulation active:scale-[0.98] transition-all
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .calculator-button-secondary {
    @apply h-12 rounded-xl border-white/10
           text-white/70 hover:text-white hover:bg-white/5
           touch-manipulation active:scale-[0.98] transition-all;
  }

  /* Calculator unit badge */
  .calculator-unit-badge {
    @apply text-xs font-medium px-2 py-0.5 rounded-md bg-white/10 text-white/60;
  }

  /* Calculator formula reference box */
  .calculator-formula-box {
    @apply text-center py-3 px-4 rounded-lg bg-black/30;
  }

  .calculator-formula-text {
    @apply text-lg sm:text-xl font-mono text-white/90;
  }

  /* Calculator input grid layouts */
  .calculator-grid-2 {
    @apply grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4;
  }

  .calculator-grid-3 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4;
  }

  /* Calculator status badges */
  .calculator-badge-pass {
    @apply bg-green-500/20 text-green-400 border-green-500/30;
  }

  .calculator-badge-fail {
    @apply bg-red-500/20 text-red-400 border-red-500/30;
  }

  .calculator-badge-warning {
    @apply bg-amber-500/20 text-amber-400 border-amber-500/30;
  }

  .calculator-badge-info {
    @apply bg-blue-500/20 text-blue-400 border-blue-500/30;
  }

  /* ===== PREMIUM TOOLS PAGE UTILITIES ===== */

  /* Premium Category Card - Main Tools Page */
  .category-card-premium {
    @apply relative overflow-hidden rounded-2xl
           bg-gradient-to-br from-elec-gray via-elec-card to-elec-gray
           border border-border/30
           transition-all duration-300 ease-ios-spring
           cursor-pointer touch-manipulation
           hover:scale-[1.02] hover:shadow-2xl active:scale-[0.98];
  }

  .category-card-premium:hover {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  }

  /* Category-specific glow effects */
  .category-glow {
    @apply absolute rounded-full blur-3xl pointer-events-none opacity-40 transition-opacity duration-300;
  }

  .category-card-premium:hover .category-glow {
    @apply opacity-60;
  }

  /* Category color schemes */
  .category-blue { --category-color: 217 91% 60%; }
  .category-orange { --category-color: 24 95% 53%; }
  .category-green { --category-color: 142 76% 36%; }
  .category-amber { --category-color: 38 92% 50%; }
  .category-red { --category-color: 0 84% 60%; }
  .category-purple { --category-color: 271 81% 56%; }
  .category-cyan { --category-color: 189 94% 43%; }
  .category-indigo { --category-color: 239 84% 67%; }

  /* Premium Product Card - Category Pages */
  .product-card-premium {
    @apply bg-gradient-to-br from-elec-gray to-elec-card
           border border-border/50 rounded-2xl overflow-hidden
           transition-all duration-300 ease-ios-ease
           hover:border-primary/40 hover:shadow-xl hover:shadow-primary/10
           hover:-translate-y-1 cursor-pointer touch-manipulation;
  }

  /* Product image container */
  .product-image-container {
    @apply relative bg-white overflow-hidden;
    height: 200px;
  }

  .product-image-container-compact {
    @apply relative bg-white overflow-hidden;
    height: 150px;
  }

  .product-image-container img {
    @apply w-full h-full object-contain p-4 transition-transform duration-500;
  }

  .product-card-premium:hover .product-image-container img {
    @apply scale-105;
  }

  /* Sale ribbon - angular design */
  .sale-ribbon {
    @apply absolute top-0 right-0 z-10 bg-destructive text-destructive-foreground
           px-3 py-1 text-xs font-bold;
    clip-path: polygon(0 0, 100% 0, 100% 100%, 10% 100%);
  }

  /* Supplier badge */
  .supplier-badge {
    @apply absolute top-3 left-3 z-10 px-2.5 py-1 rounded-lg
           bg-background/90 backdrop-blur-sm border border-border/50
           text-xs font-medium text-foreground shadow-lg;
  }

  /* Trust badge strip */
  .trust-badge-strip {
    @apply flex flex-wrap items-center gap-2 py-2 border-t border-border/30;
  }

  .trust-badge {
    @apply inline-flex items-center gap-1 text-xs text-muted-foreground;
  }

  .trust-badge-success {
    @apply text-success;
  }

  .trust-badge-primary {
    @apply text-primary;
  }

  /* Price styling - Amazon-inspired */
  .price-block {
    @apply space-y-1;
  }

  .price-primary {
    @apply text-2xl font-bold text-primary;
  }

  .price-original {
    @apply text-sm text-muted-foreground line-through;
  }

  .price-savings {
    @apply text-sm font-semibold text-success;
  }

  .price-vat {
    @apply text-xs text-muted-foreground;
  }

  /* Metrics grid for category cards */
  .metrics-grid {
    @apply grid grid-cols-2 gap-2;
  }

  .metric-box {
    @apply flex items-center gap-2 p-2.5 rounded-xl
           bg-white/5 border border-white/10
           transition-colors duration-200;
  }

  .category-card-premium:hover .metric-box {
    @apply bg-white/10 border-white/20;
  }

  .metric-box-highlight {
    @apply bg-primary/10 border-primary/20;
  }

  /* Star rating display */
  .star-rating {
    @apply flex items-center gap-1;
  }

  .star-rating .star-filled {
    @apply fill-yellow-400 text-yellow-400;
  }

  .star-rating .star-empty {
    @apply text-muted-foreground/30;
  }

  /* Product features list */
  .product-features {
    @apply space-y-1.5;
  }

  .product-feature {
    @apply flex items-center gap-2 text-xs text-muted-foreground;
  }

  .product-feature-icon {
    @apply h-3 w-3 text-success shrink-0;
  }

  /* Premium action buttons */
  .btn-buy-now {
    @apply flex-1 h-11 rounded-xl font-semibold
           bg-primary text-primary-foreground
           hover:bg-primary/90 hover:shadow-lg hover:scale-[1.02]
           active:scale-[0.98] transition-all duration-200;
  }

  .btn-compare {
    @apply h-11 w-11 rounded-xl border border-border/50
           hover:bg-accent hover:border-primary/30 hover:scale-105
           active:scale-95 transition-all duration-200;
  }

  /* Progressive disclosure - description reveal */
  .reveal-on-hover {
    @apply opacity-0 transform translate-y-2
           transition-all duration-300;
  }

  .category-card-premium:hover .reveal-on-hover {
    @apply opacity-100 translate-y-0;
  }

  /* Arrow reveal on hover */
  .arrow-reveal {
    @apply opacity-0 transform translate-x-0
           transition-all duration-300;
  }

  .category-card-premium:hover .arrow-reveal {
    @apply opacity-100 translate-x-1;
  }

  /* Icon float animation */
  @keyframes icon-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-4px); }
  }

  .icon-float-on-hover {
    @apply transition-transform duration-300;
  }

  .category-card-premium:hover .icon-float-on-hover {
    animation: icon-float 2s ease-in-out infinite;
  }

  /* Staggered entrance for cards */
  /* Note: Removed opacity: 0 - content visible by default */
  .stagger-enter > * {
    animation: stagger-fade-in 0.35s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .stagger-enter > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-enter > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-enter > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-enter > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-enter > *:nth-child(5) { animation-delay: 200ms; }
  .stagger-enter > *:nth-child(6) { animation-delay: 250ms; }
  .stagger-enter > *:nth-child(7) { animation-delay: 300ms; }
  .stagger-enter > *:nth-child(8) { animation-delay: 350ms; }

  @keyframes stagger-fade-in {
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  /* Category icon container */
  .category-icon-container {
    @apply p-3 sm:p-4 rounded-2xl
           bg-white/5 border border-white/10
           transition-all duration-300;
  }

  .category-card-premium:hover .category-icon-container {
    @apply bg-white/10 border-white/20;
    box-shadow: 0 0 30px -5px hsl(var(--category-color, var(--elec-yellow)) / 0.3);
  }

  /* ===== ELEC-ID ANIMATIONS ===== */

  /* Scanning line animation for OCR */
  @keyframes scan {
    0% {
      transform: translateY(-100%);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(100%);
      opacity: 0;
    }
  }

  .animate-scan {
    animation: scan 2s ease-in-out infinite;
  }

  /* ===== I&T DASHBOARD PREMIUM UTILITIES ===== */

  /* Glassmorphism dark header */
  .glass-dark {
    @apply bg-black/80 backdrop-blur-xl;
    border-bottom: 1px solid rgba(255, 209, 0, 0.1);
  }

  /* Premium card with golden accent */
  .card-premium-yellow {
    @apply relative overflow-hidden;
    background: linear-gradient(135deg,
      hsl(47 100% 50% / 0.08) 0%,
      hsl(240 5.9% 14% / 0.95) 30%,
      hsl(240 5.9% 12%) 100%);
    border: 1px solid hsl(47 100% 50% / 0.25);
  }

  .card-premium-yellow::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg,
      transparent 0%,
      hsl(47 100% 50%) 50%,
      transparent 100%);
    opacity: 0.8;
  }

  /* Golden glow for larger elements */
  .glow-yellow-lg {
    box-shadow: 0 0 80px -20px hsl(47 100% 50% / 0.25),
                0 20px 60px -15px rgba(0, 0, 0, 0.5);
  }

  /* Card entrance animation - staggered */
  @keyframes card-entrance {
    0% {
      opacity: 0;
      transform: translateY(16px) scale(0.96);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-card-entrance {
    animation: card-entrance 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Stagger delays for card grids */
  .card-stagger > *:nth-child(1) { animation-delay: 0ms; }
  .card-stagger > *:nth-child(2) { animation-delay: 50ms; }
  .card-stagger > *:nth-child(3) { animation-delay: 100ms; }
  .card-stagger > *:nth-child(4) { animation-delay: 150ms; }
  .card-stagger > *:nth-child(5) { animation-delay: 200ms; }
  .card-stagger > *:nth-child(6) { animation-delay: 250ms; }

  /* Premium icon container with glow */
  .icon-glow-yellow {
    @apply relative;
    box-shadow: 0 0 30px -8px hsl(47 100% 50% / 0.4);
  }

  /* Subtle stat card styling */
  .stat-card-unified {
    @apply bg-white/5 border border-white/10 backdrop-blur-sm;
  }

  .stat-card-unified:hover {
    @apply bg-white/10 border-elec-yellow/20;
  }

  /* ===== EICR FORM PREMIUM UTILITIES ===== */

  /* Compact sticky header for EICR forms */
  .eicr-header-compact {
    position: fixed;
    top: env(safe-area-inset-top, 0px);
    left: 0;
    right: 0;
    z-index: 50;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid hsl(47 100% 50% / 0.1);
  }

  /* Content offset for sticky header on mobile */
  .eicr-content-with-header {
    padding-top: calc(68px + env(safe-area-inset-top, 0px));
  }

  @screen lg {
    .eicr-content-with-header {
      padding-top: 0;
    }
  }

  /* Premium section card */
  .eicr-section-card {
    @apply relative overflow-hidden rounded-2xl;
    background: linear-gradient(135deg,
      hsl(240 5.9% 14% / 0.85) 0%,
      hsl(240 5.9% 12% / 0.98) 100%);
    border: 1px solid hsl(47 100% 50% / 0.12);
  }

  .eicr-section-card:hover {
    border-color: hsl(47 100% 50% / 0.2);
  }

  /* Golden accent line for section cards */
  .eicr-section-accent {
    @apply h-0.5 w-full;
    background: linear-gradient(90deg,
      transparent 0%,
      hsl(47 100% 50% / 0.5) 50%,
      transparent 100%);
  }

  /* Complete state accent line */
  .eicr-section-accent-complete {
    background: linear-gradient(90deg,
      transparent 0%,
      hsl(142 76% 36% / 0.6) 50%,
      transparent 100%);
  }

  /* Step indicator pill (mobile) */
  .eicr-step-pill {
    @apply flex items-center gap-2 px-4 py-2.5 rounded-full whitespace-nowrap;
    @apply text-sm font-medium transition-all duration-200;
    @apply ios-pressable touch-manipulation;
  }

  .eicr-step-pill-active {
    @apply bg-elec-yellow text-black font-semibold;
    box-shadow: 0 4px 20px -4px hsl(47 100% 50% / 0.4);
  }

  .eicr-step-pill-complete {
    @apply bg-green-500/10 text-green-400 border border-green-500/30;
  }

  .eicr-step-pill-pending {
    @apply bg-muted/50 text-muted-foreground;
  }

  /* Step indicator dot (desktop) */
  .eicr-step-dot {
    @apply w-12 h-12 rounded-2xl flex items-center justify-center;
    @apply border-2 transition-all duration-300;
  }

  .eicr-step-dot-active {
    @apply bg-elec-yellow border-elec-yellow text-black scale-110;
    box-shadow: 0 4px 24px -4px hsl(47 100% 50% / 0.5);
  }

  .eicr-step-dot-complete {
    @apply bg-green-500/10 border-green-500/40 text-green-400;
  }

  .eicr-step-dot-pending {
    @apply bg-muted/30 border-border/50 text-muted-foreground;
  }

  .eicr-step-dot-pending:hover {
    @apply border-elec-yellow/40;
  }

  /* Step connector line */
  .eicr-step-connector {
    @apply flex-1 h-0.5 mx-2 transition-all duration-500;
  }

  .eicr-step-connector-complete {
    @apply bg-green-500/50;
  }

  .eicr-step-connector-pending {
    @apply bg-border/50;
  }

  /* Step navigation wrapper */
  .eicr-step-nav {
    @apply sticky top-[52px] lg:relative lg:top-0 z-30;
    @apply py-3 -mx-4 px-4 lg:mx-0 lg:px-0 lg:py-0;
    background: rgba(0, 0, 0, 0.9);
    -webkit-backdrop-filter: blur(12px);
    backdrop-filter: blur(12px);
  }

  @media (min-width: 1024px) {
    .eicr-step-nav {
      background: transparent;
      backdrop-filter: none;
    }
  }

  /* EICR form field enhancements */
  .eicr-input {
    @apply h-12 lg:h-11 px-4 text-base rounded-xl;
    @apply bg-background/50 border-2 border-border/50;
    @apply focus:border-elec-yellow/60 focus:ring-2 focus:ring-elec-yellow/10;
    @apply transition-all duration-200 touch-manipulation;
  }

  .eicr-textarea {
    @apply min-h-[120px] p-4 text-base rounded-xl resize-none;
    @apply bg-background/50 border-2 border-border/50;
    @apply focus:border-elec-yellow/60 focus:ring-2 focus:ring-elec-yellow/10;
    @apply transition-all duration-200;
  }

  .eicr-select-trigger {
    @apply h-12 lg:h-11 px-4 text-base rounded-xl;
    @apply bg-background/50 border-2 border-border/50;
    @apply data-[state=open]:border-elec-yellow/60 data-[state=open]:ring-2 data-[state=open]:ring-elec-yellow/10;
    @apply transition-all duration-200;
  }

  /* Fixed bottom action bar */
  .eicr-bottom-bar {
    @apply lg:hidden fixed bottom-0 left-0 right-0 z-50;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-top: 1px solid hsl(47 100% 50% / 0.1);
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  /* Floating action button */
  .eicr-fab {
    @apply lg:hidden fixed z-40 h-14 w-14 rounded-full;
    @apply bg-elec-yellow text-black shadow-xl;
    @apply ios-pressable flex items-center justify-center;
    box-shadow: 0 8px 32px -4px hsl(47 100% 50% / 0.4);
  }

  /* Safe area padding for bottom action bars */
  .safe-area-pb {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  /* ===== EICR INSPECTION TAB UTILITIES ===== */

  /* Inspection item card with outcome border */
  .eicr-inspection-item {
    @apply rounded-xl transition-all duration-200;
    background: linear-gradient(135deg,
      hsl(240 5.9% 14% / 0.6) 0%,
      hsl(240 5.9% 12% / 0.8) 100%);
    border: 1px solid hsl(var(--border) / 0.5);
  }

  .eicr-inspection-item-c1 {
    border-left: 4px solid hsl(0 84% 60%);
  }

  .eicr-inspection-item-c2 {
    border-left: 4px solid hsl(25 95% 53%);
  }

  .eicr-inspection-item-c3 {
    border-left: 4px solid hsl(47 100% 50%);
  }

  .eicr-inspection-item-ok {
    border-left: 4px solid hsl(142 76% 36%);
  }

  .eicr-inspection-item-na {
    border-left: 4px solid hsl(240 5% 50%);
  }

  .eicr-inspection-item-nv {
    border-left: 4px solid hsl(210 90% 55%);
  }

  .eicr-inspection-item-lim {
    border-left: 4px solid hsl(270 60% 55%);
  }

  /* Outcome chips */
  .outcome-chip {
    @apply px-3 py-1.5 rounded-full text-xs font-medium;
    @apply border border-white/10 bg-white/5;
    @apply transition-all duration-200 whitespace-nowrap;
    @apply touch-manipulation ios-pressable;
  }

  .outcome-chip-ok {
    @apply bg-green-500/15 border-green-500/30 text-green-400;
  }

  .outcome-chip-c1 {
    @apply bg-red-500/15 border-red-500/30 text-red-400;
  }

  .outcome-chip-c2 {
    @apply bg-orange-500/15 border-orange-500/30 text-orange-400;
  }

  .outcome-chip-c3 {
    @apply bg-yellow-500/15 border-yellow-500/30 text-yellow-400;
  }

  .outcome-chip-na {
    @apply bg-gray-500/15 border-gray-500/30 text-gray-400;
  }

  .outcome-chip-nv {
    @apply bg-blue-500/15 border-blue-500/30 text-blue-400;
  }

  .outcome-chip-lim {
    @apply bg-purple-500/15 border-purple-500/30 text-purple-400;
  }

  .outcome-chip-active {
    @apply ring-2 ring-offset-1 ring-offset-background;
  }

  .outcome-chip-ok.outcome-chip-active {
    @apply ring-green-500/50 bg-green-500 text-white border-green-500;
  }

  .outcome-chip-c1.outcome-chip-active {
    @apply ring-red-500/50 bg-red-500 text-white border-red-500;
  }

  .outcome-chip-c2.outcome-chip-active {
    @apply ring-orange-500/50 bg-orange-500 text-white border-orange-500;
  }

  .outcome-chip-c3.outcome-chip-active {
    @apply ring-yellow-500/50 bg-yellow-500 text-black border-yellow-500;
  }

  .outcome-chip-na.outcome-chip-active {
    @apply ring-gray-500/50 bg-gray-500 text-white border-gray-500;
  }

  .outcome-chip-nv.outcome-chip-active {
    @apply ring-blue-500/50 bg-blue-500 text-white border-blue-500;
  }

  .outcome-chip-lim.outcome-chip-active {
    @apply ring-purple-500/50 bg-purple-500 text-white border-purple-500;
  }

  /* Section label style (iOS-inspired) */
  .eicr-section-label {
    @apply text-[11px] text-white/40 uppercase tracking-wider font-medium mb-2 block;
  }

  /* Native-feeling outcome chip (44px touch target) */
  .outcome-chip-native {
    @apply flex-1 flex items-center justify-center gap-1.5;
    @apply h-11 rounded-xl text-sm font-medium;
    @apply border transition-all touch-manipulation;
    @apply active:scale-95;
  }

  /* Native inspection item card with press feedback */
  .eicr-inspection-item-native {
    @apply rounded-2xl transition-all duration-200;
    @apply active:scale-[0.995] touch-manipulation;
    background: linear-gradient(135deg,
      hsl(240 5.9% 14% / 0.7) 0%,
      hsl(240 5.9% 12% / 0.85) 100%);
    border: 1px solid hsl(var(--border) / 0.4);
  }

  /* Floating stats pill */
  .eicr-stats-pill {
    @apply fixed bottom-20 left-1/2 -translate-x-1/2 z-40;
    @apply px-4 py-2.5 rounded-full flex items-center gap-4;
    background: rgba(0, 0, 0, 0.92);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid hsl(47 100% 50% / 0.15);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  }

  /* Observation card */
  .eicr-observation-card {
    @apply relative rounded-2xl overflow-hidden p-5;
    background: linear-gradient(135deg,
      hsl(240 5.9% 14% / 0.85) 0%,
      hsl(240 5.9% 12% / 0.98) 100%);
    border: 1px solid hsl(47 100% 50% / 0.12);
  }

  .eicr-observation-card-c1 {
    border-left: 4px solid hsl(0 84% 60%);
  }

  .eicr-observation-card-c2 {
    border-left: 4px solid hsl(25 95% 53%);
  }

  .eicr-observation-card-c3 {
    border-left: 4px solid hsl(47 100% 50%);
  }

  /* Inspection section header */
  .eicr-inspection-section-header {
    @apply flex items-center justify-between w-full p-4;
    @apply transition-all duration-200;
    @apply hover:bg-white/5 active:bg-white/10;
    @apply touch-manipulation ios-pressable;
  }

  /* Section number badge */
  .eicr-section-number {
    @apply h-10 w-10 rounded-xl flex items-center justify-center;
    @apply bg-elec-yellow/15 text-elec-yellow font-bold text-lg;
  }

  /* Tier badge glow effects */
  .tier-glow-verified {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
  }

  .tier-glow-premium {
    box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);
  }

  /* Profile strength ring animation */
  @keyframes ring-fill {
    from {
      stroke-dashoffset: 220;
    }
    to {
      stroke-dashoffset: var(--ring-offset);
    }
  }

  .animate-ring-fill {
    animation: ring-fill 1s ease-out forwards;
  }

  /* Document card hover effects */
  .document-card-hover {
    @apply transition-all duration-200 hover:scale-[1.02] hover:shadow-lg;
  }

  /* Verification pulse */
  @keyframes verification-pulse {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.7;
      transform: scale(1.05);
    }
  }

  .animate-verification-pulse {
    animation: verification-pulse 2s ease-in-out infinite;
  }

  /* ============================================
     TESTING PAGE STYLES - Native Mobile & Premium Desktop
     ============================================ */

  /* Testing Page Hero Section */
  .testing-hero {
    @apply relative overflow-hidden rounded-2xl;
    background: hsl(240 5.9% 12%);
    border: 1px solid hsl(var(--border) / 0.5);
  }

  .testing-hero::before {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: linear-gradient(135deg,
      hsl(48 100% 50% / 0.04) 0%,
      transparent 40%); /* Simplified gradient, smaller area */
    pointer-events: none;
  }

  /* Stats Card */
  .testing-stat-card {
    @apply flex flex-col items-center justify-center p-3 rounded-xl;
    @apply bg-white/5 border border-white/10;
    transition: background-color 150ms ease-out, border-color 150ms ease-out;
  }

  .testing-stat-card:hover {
    @apply bg-white/10 border-white/20;
  }

  /* Primary Action Button */
  .testing-action-primary {
    @apply h-12 px-5 rounded-xl font-semibold;
    @apply bg-elec-yellow text-black;
    @apply hover:bg-elec-yellow/90;
    @apply active:scale-95;
    transition: background-color 100ms ease-out, transform 100ms ease-out;
  }

  /* Secondary Action Button */
  .testing-action-secondary {
    @apply h-11 px-4 rounded-xl font-medium;
    @apply bg-white/5 border border-white/20 text-white;
    @apply hover:bg-white/10 hover:border-white/30;
    @apply active:scale-95;
    transition: background-color 100ms ease-out, border-color 100ms ease-out, transform 100ms ease-out;
  }

  /* Segmented Control (iOS style) */
  .testing-segment-control {
    @apply flex p-1 rounded-xl bg-white/5 border border-white/10;
  }

  .testing-segment-button {
    @apply flex-1 flex items-center justify-center gap-1.5 h-10 rounded-lg text-sm font-medium;
    @apply text-white/60;
    @apply active:scale-95 touch-manipulation;
    transition: background-color 150ms ease-out, color 150ms ease-out, transform 100ms ease-out;
  }

  .testing-segment-button[data-active="true"] {
    @apply bg-white/10 text-white shadow-sm;
  }

  /* Progress Bar */
  .testing-progress-bar {
    @apply h-2 rounded-full bg-white/10 overflow-hidden;
  }

  .testing-progress-fill {
    @apply h-full rounded-full;
    background: hsl(48 100% 50%); /* Solid color for performance */
    transition: width 300ms ease-out; /* Only animate width, not all properties */
  }

  /* Info Section Accordion */
  .testing-info-section {
    @apply rounded-xl bg-white/[0.02] border border-white/5;
    @apply overflow-hidden;
  }

  .testing-info-header {
    @apply flex items-center justify-between p-4 w-full;
    @apply text-sm font-semibold text-white/90;
    @apply hover:bg-white/5 cursor-pointer;
    @apply active:scale-[0.995] touch-manipulation;
    transition: background-color 100ms ease-out, transform 100ms ease-out;
  }

  /* Table container */
  .testing-table-container {
    @apply rounded-2xl border border-white/10 bg-white/[0.02] overflow-hidden;
  }

  /* Tool panel slide-in */
  .testing-tool-panel {
    @apply mt-2 p-3 rounded-xl bg-white/5 border border-white/10 space-y-2;
    animation: slideDown 200ms ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Tool panel button */
  .testing-tool-button {
    @apply w-full justify-start h-11 text-white/80 hover:text-white hover:bg-white/5;
    @apply active:scale-[0.98] transition-all duration-150;
  }

  /* ============================================
     SCHEDULE OF TESTS TABLE - Best in Class
     ============================================ */

  /* Desktop Table Container */
  .sot-table-wrapper {
    @apply rounded-xl overflow-hidden;
    background: linear-gradient(180deg,
      hsl(240 5.9% 12%) 0%,
      hsl(240 5.9% 10%) 100%);
    border: 1px solid hsl(var(--border) / 0.3);
  }

  /* Table Header - Group Row */
  .sot-header-group {
    @apply sticky top-0 z-30;
    background: hsl(240 5.9% 15%);
    border-bottom: 2px solid hsl(48 100% 50% / 0.3);
  }

  .sot-header-group-cell {
    @apply text-xs font-bold text-white/90 text-center py-2 px-2;
    @apply border-r border-white/5 last:border-r-0;
    @apply transition-colors;
  }

  .sot-header-group-cell:hover {
    background: hsl(48 100% 50% / 0.05);
  }

  /* Table Header - Column Labels Row */
  .sot-header-labels {
    @apply sticky top-[33px] z-30;
    background: hsl(240 5.9% 12%);
    border-bottom: 1px solid hsl(var(--border) / 0.5);
  }

  .sot-header-cell {
    @apply text-[10px] font-semibold text-white/60 text-center py-2 px-1.5;
    @apply border-r border-white/5 last:border-r-0;
    @apply uppercase tracking-wider;
    @apply whitespace-nowrap;
  }

  /* Color-coded header cells by group */
  .sot-header-cell[data-group="circuit"] { @apply bg-blue-500/5; }
  .sot-header-cell[data-group="conductor"] { @apply bg-emerald-500/5; }
  .sot-header-cell[data-group="protection"] { @apply bg-orange-500/5; }
  .sot-header-cell[data-group="rcd-details"] { @apply bg-rose-500/5; }
  .sot-header-cell[data-group="continuity"] { @apply bg-violet-500/5; }
  .sot-header-cell[data-group="insulation"] { @apply bg-purple-500/5; }
  .sot-header-cell[data-group="zs"] { @apply bg-amber-500/5; }
  .sot-header-cell[data-group="rcd-tests"] { @apply bg-indigo-500/5; }
  .sot-header-cell[data-group="afdd"] { @apply bg-cyan-500/5; }
  .sot-header-cell[data-group="functional"] { @apply bg-teal-500/5; }

  /* Sticky circuit number column */
  .sot-sticky-col {
    @apply sticky left-0 z-20;
    background: hsl(240 5.9% 13%);
    border-right: 1px solid hsl(0 0% 0% / 0.2); /* Simple border instead of box-shadow for performance */
  }

  /* Table Body Rows */
  .sot-row {
    @apply border-b border-white/5;
    transition: background-color 100ms ease-out;
  }

  .sot-row:hover {
    background: hsl(48 100% 50% / 0.03);
  }

  .sot-row:nth-child(even) {
    background: hsl(240 5.9% 11%);
  }

  .sot-row:nth-child(even):hover {
    background: hsl(48 100% 50% / 0.05);
  }

  /* Table Cells */
  .sot-cell {
    @apply py-2 px-1.5 text-sm text-white/90;
    @apply border-r border-white/5 last:border-r-0;
  }

  .sot-cell-input {
    @apply h-9 w-full bg-transparent border-0 text-center text-sm text-white;
    @apply focus:bg-white/5 focus:ring-1 focus:ring-elec-yellow/50 focus:outline-none;
    @apply rounded;
    transition: background-color 150ms ease-out;
  }

  .sot-cell-input::placeholder {
    @apply text-white/20;
  }

  /* Circuit number cell - special styling */
  .sot-circuit-number {
    @apply font-mono font-bold text-elec-yellow text-center;
  }

  /* Fill All Button in Header */
  .sot-fill-all-btn {
    @apply h-5 w-5 p-0 rounded-full;
    @apply bg-transparent hover:bg-elec-yellow/20;
    @apply text-elec-yellow/60 hover:text-elec-yellow;
    @apply transition-all duration-150 hover:scale-110;
  }

  /* Mobile Table Styles */
  .sot-mobile-wrapper {
    @apply overflow-x-auto overflow-y-visible;
    @apply -mx-2 px-2;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x proximity;
    overscroll-behavior-x: contain;
  }

  .sot-mobile-table {
    @apply min-w-max;
  }

  .sot-mobile-header {
    @apply sticky top-0 z-40;
    background: linear-gradient(180deg,
      hsl(240 5.9% 16%) 0%,
      hsl(240 5.9% 13%) 100%);
    border-bottom: 2px solid hsl(48 100% 50% / 0.2);
  }

  .sot-mobile-header-cell {
    @apply text-[10px] font-bold text-white/80 text-center py-3 px-2;
    @apply border-r border-white/10 last:border-r-0;
    @apply whitespace-nowrap min-w-[60px];
  }

  /* Mobile circuit column sticky */
  .sot-mobile-sticky {
    @apply sticky left-0 z-30;
    background: hsl(240 5.9% 14%);
    box-shadow: 4px 0 12px -4px hsl(0 0% 0% / 0.4);
  }

  .sot-mobile-row {
    @apply border-b border-white/5;
  }

  .sot-mobile-row:nth-child(even) {
    background: hsl(240 5.9% 10%);
  }

  .sot-mobile-cell {
    @apply py-2.5 px-2 text-sm;
    @apply border-r border-white/5 last:border-r-0;
    @apply min-w-[60px];
  }

  .sot-mobile-input {
    @apply h-10 w-full min-w-[55px] bg-white/5 border border-white/10 rounded-lg;
    @apply text-center text-sm text-white;
    @apply focus:bg-white/10 focus:border-elec-yellow/50 focus:outline-none;
    @apply touch-manipulation;
    font-size: 16px; /* Prevent iOS zoom */
  }

  /* Pass/Fail indicators */
  .sot-pass {
    @apply bg-green-500/20 text-green-400 border-green-500/30;
  }

  .sot-fail {
    @apply bg-red-500/20 text-red-400 border-red-500/30;
  }

  /* Group collapse button */
  .sot-collapse-btn {
    @apply inline-flex items-center justify-center gap-1 h-6 px-2 rounded;
    @apply text-xs font-medium text-white/70 hover:text-white;
    @apply hover:bg-white/10 transition-all duration-150;
  }

  /* ============================================
     TOOL SHEET PATTERN - iOS-style bottom sheets
     ============================================ */

  /* Overlay backdrop */
  .tool-sheet-overlay {
    @apply fixed inset-0 bg-black/60 z-50;
    @apply backdrop-blur-sm;
    animation: fade-in 200ms ease-out;
  }

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Sheet container - Mobile: bottom sheet, Desktop: centered modal */
  .tool-sheet-container {
    @apply fixed inset-x-0 bottom-0 z-50;
    @apply max-h-[90vh] flex flex-col;
    @apply rounded-t-3xl bg-background border-t border-white/10;
    @apply shadow-2xl;
    animation: slide-up 300ms cubic-bezier(0.32, 0.72, 0, 1);
  }

  @keyframes slide-up {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
  }

  /* Fade in up animation for staggered card reveals */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Note: Removed opacity: 0 - content visible by default */
  .animate-fade-in-up {
    animation: fadeInUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  /* Desktop: Centered modal instead of sheet */
  @media (min-width: 768px) {
    .tool-sheet-container {
      @apply inset-auto top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
      @apply max-w-lg w-full rounded-2xl border border-white/10;
      animation: fade-scale-in 200ms ease-out;
    }

    @keyframes fade-scale-in {
      from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
      to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
  }

  /* Drag handle */
  .tool-sheet-handle {
    @apply w-10 h-1 rounded-full bg-white/20 mx-auto mt-3;
  }

  /* Header */
  .tool-sheet-header {
    @apply flex items-center justify-between p-4 border-b border-white/10;
  }

  .tool-sheet-title {
    @apply flex items-center gap-2 text-base font-semibold text-white;
  }

  /* Content area */
  .tool-sheet-content {
    @apply p-4 overflow-y-auto;
    max-height: calc(90vh - 120px);
    -webkit-overflow-scrolling: touch;
  }

  /* Footer for primary actions */
  .tool-sheet-footer {
    @apply p-4 border-t border-white/10 bg-background;
  }

  /* ============================================
     REGULATION VALIDATION SECTION
     ============================================ */

  .regulation-card {
    @apply rounded-2xl overflow-hidden;
    background: linear-gradient(135deg,
      hsl(240 5.9% 12%) 0%,
      hsl(240 5.9% 8%) 100%);
    border: 1px solid hsl(var(--border) / 0.3);
  }

  .regulation-header {
    @apply flex items-center gap-3 p-4 border-b border-white/10;
  }

  .regulation-title {
    @apply text-base font-semibold text-white;
  }

  .regulation-stat {
    @apply flex items-center gap-3 p-4 rounded-xl;
    @apply bg-white/5 border border-white/10;
    @apply transition-all duration-200;
    @apply active:scale-[0.98];
  }

  .regulation-stat:hover {
    @apply bg-white/10 border-white/20;
  }

  .regulation-stat-value {
    @apply text-xl font-bold text-white;
  }

  .regulation-stat-label {
    @apply text-xs text-white/50;
  }

  /* Stat variants */
  .regulation-stat-success {
    @apply bg-emerald-500/10 border-emerald-500/30;
  }

  .regulation-stat-success:hover {
    @apply bg-emerald-500/20 border-emerald-500/40;
  }

  .regulation-stat-warning {
    @apply bg-amber-500/10 border-amber-500/30;
  }

  .regulation-stat-warning:hover {
    @apply bg-amber-500/20 border-amber-500/40;
  }

  .regulation-stat-error {
    @apply bg-red-500/10 border-red-500/30;
  }

  .regulation-stat-error:hover {
    @apply bg-red-500/20 border-red-500/40;
  }
}

/* Board scanner scan animation */
@keyframes scan {
  0% {
    top: 0;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    top: 100%;
    opacity: 0;
  }
}

.animate-scan {
  animation: scan 2s ease-in-out infinite;
}
